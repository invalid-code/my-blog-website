{% extends "my_blog/base.html" %}
{% load custom_tags %}
{% block title %}my blog{% endblock %}
{% block static_files %}
{% load static %}
<link rel="stylesheet" href="{% static 'my_blog/index.css' %}">
{% endblock %}
{% block content %}
<!-- new blog -->
<div class="flex flex-col items-center">
  <div class="flex items-center justify-center bg-gray-200 w-8 p-1 hover:bg-gray-300 shadow rounded-3xl">
    <button type="button" id="blog-post">&#43;</button>
  </div>
  <div class="mt-2 hidden" id="new_blog">
    <form method="POST" action="/">
      {% csrf_token %}
      <div class="h-max w-max p-2 bg-gray-200 shadow rounded-md items-center justify-center" name="main-content">
        <div class="p-1">
          <h2>Title:</h2>
        </div>
        <div class="p-1">
          <input name="title" type="text"></input>
        </div>
        <div class="p-1">
          <h2>Paragraph body:</h2>
        </div>
        <div class="p-1">
          <input name="paragraph_body" type="text"></input>
        </div>
        <div class="m-auto my-1 p-2 bg-gray-100 w-max rounded-sm shadow hover:bg-gray-300">
          <button type="submit" name="newBlog">Submit</button>
        </div>
      </div>
    </form>
  </div>
</div>
<!--  -->
<!-- blogs -->
<div class="hidden">{{ blogs }}</div>
{% for blog in blogs %}
<div class="p-2 h-max w-max">
  <form method="POST" action="/">
    {% csrf_token %}
    <div class="p-2 bg-gray-200 shadow rounded-sm">
      <div class="hidden">
        <input type="text" value="{% mongo_id blog %}" id="blog_id" name="blog_id"></input>
      </div>
      <div class="text-right text-2xl" id="blog_title" name="blog_title">
        {{ blog.title }}
      </div>
      <div class="" id="blog_time_created" name="blog_time_created">{{ blog.time }}</div>
      <div class="text-right" id="blog_paragraph_body" name="blog_paragraph_body">{{ blog.Paragraph_body }}</div>
      <div class="flex justify-end items-center" id="blog_buttons" name="blog_buttons">
        <div class="hidden" id="cancel_button" name="cancel_button">
          <button type="button" value="cancel_edit_blog" id="cancel_edit_blog" name="cancel_edit_blog">cancel</button>
        </div>
        <div class="p-1">
          <button type="button" value="edit_blog" id="edit_blog" name="edit_blog">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="feather feather-edit-3">
              <path d="M12 20h9"></path>
              <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
            </svg>
          </button>
        </div>
        <div class="p-1">
          <button type="submit" value="save_blog" id="save_blog" name="save_blog">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="feather feather-save">
              <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
              <polyline points="17 21 17 13 7 13 7 21"></polyline>
              <polyline points="7 3 7 8 15 8"></polyline>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </form>
</div>
{% endfor %}
{% endblock %}
{% block right_sidebar %}
<div class="w-[100%] border-l-4 border-l-gray-500">
  <div class="text-center">
    <div>Comments</div>
    <div class="text-right">
      <ul>
        <li>Comment</li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}
{% block js %}
<script src="{% static 'my_blog/index.js' %}"></script>
{% endblock %}